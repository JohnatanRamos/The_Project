---
import "../styles/global.css";
import Header from "../components/shared/Header.astro";
import Footer from "../components/shared/Footer.astro";
import AnimatedGradientBackground from "../components/shared/AnimatedGradientBackground.astro";
import AnimatedFloatingShapes from "../components/shared/AnimatedFloatingShapes.astro";
import FloatingWppButton from "../components/shared/FloatingWppButton.astro";

interface Props {
  title?: string;
  description?: string;
}

const { title = "Novalux", description = "Desarrollo de software, p√°ginas web, e-commerce y asistentes WhatsApp con IA. Transformamos tu negocio con soluciones digitales innovadoras." } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/Favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <title>{title}</title>
  </head>
  <body>
    <Header />
    <AnimatedGradientBackground />
    <AnimatedFloatingShapes />
    <slot />
    <Footer />
    <FloatingWppButton />
  </body>
</html>

<script>
  // General Scroll Animation Observer
  const animateObserver = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("is-visible");
        }
      });
    },
    {
      threshold: 0.1,
    }
  );

  const elementsToAnimate = document.querySelectorAll(".animate-on-scroll");
  elementsToAnimate.forEach((el) => animateObserver.observe(el));
</script>
